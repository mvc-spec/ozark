language: java
jdk: oraclejdk8
env:
  - TYPE=glassfish-module
  - TYPE=glassfish-bundled
install:
  - mvn dependency:get -Dartifact=javax.mvc:javax.mvc-api:1.0-SNAPSHOT -DremoteRepositories=central::default::https://repo1.maven.org/maven2,javanet::default::https://maven.java.net/content/repositories/snapshots
  - curl -s -o glassfish5.zip http://download.oracle.com/glassfish/5.0/nightly/latest-web.zip
  - unzip -q glassfish5.zip
script:
  - ./.travis-build.sh ${TYPE}
after_success:
  - python <(curl -s https://raw.githubusercontent.com/TouK/sputnik-ci/master/sputnik-ci.py)
